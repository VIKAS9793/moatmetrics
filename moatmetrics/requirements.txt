# =========================================================================
# MoatMetrics - Comprehensive Production Requirements
# =========================================================================
#
# This file contains ALL dependencies required to run the complete MoatMetrics platform.
# All versions are pinned to exact tested versions for reproducible deployments.
#
# Python Version: 3.11+ (minimum required)
# Tested Environment: Windows 11, Python 3.11.9
# Last Updated: September 2025
#
# Components Covered:
#   ✅ Core Analytics Engine (Statistical analysis, confidence scoring)
#   ✅ AI Analytics Platform (TinyLlama NL processing, memory management)
#   ✅ FastAPI REST API (Complete endpoint implementation)
#   ✅ Database Operations (SQLite with session management)
#   ✅ Data Processing Pipeline (CSV/Excel upload, validation, ETL)
#   ✅ Security Framework (Threat detection, privacy protection)
#   ✅ Report Generation (PDF reports with charts)
#   ✅ Web UI Components (Streamlit dashboard components)
#   ✅ Development Tools (Testing, code quality, debugging)
#   ✅ Production Deployment (Logging, monitoring, utilities)
#
# Installation:
#   pip install -r requirements.txt
#
# For development:
#   pip install -r requirements.txt
#   # All dev dependencies included
#

# =========================================================================
# CORE WEB FRAMEWORK - FastAPI REST API Backend
# =========================================================================
# Purpose: Main application framework, HTTP server, API routing
# Components: Main API server, interactive docs, request handling
# Critical for: All API endpoints, web interface, external integrations

fastapi==0.116.1        # Modern async web framework with automatic API docs
uvicorn==0.35.0         # High-performance ASGI server for FastAPI
starlette==0.47.3       # Lightweight ASGI framework (FastAPI dependency)
python-multipart==0.0.20 # Form data parsing for file uploads
h11==0.16.0             # HTTP/1.1 protocol implementation
anyio==4.10.0           # Async concurrency toolkit
sniffio==1.3.1          # Async library detection

# =========================================================================
# DATABASE & DATA PERSISTENCE
# =========================================================================
# Purpose: Data storage, ORM, database operations, migrations
# Components: SQLite database, session management, data models
# Critical for: All data persistence, analytics storage, audit trails

sqlalchemy==2.0.43      # Python SQL toolkit and ORM for database operations

# =========================================================================
# DATA VALIDATION & SERIALIZATION
# =========================================================================
# Purpose: Request/response validation, data serialization, type checking
# Components: API request validation, configuration management
# Critical for: Data integrity, API safety, configuration loading

pydantic==2.11.7        # Data validation using Python type annotations
pydantic-settings==2.1.0 # Settings management using Pydantic
pydantic_core==2.33.2  # Core validation logic for Pydantic
email-validator==2.3.0  # Email validation for contact fields
typing_extensions==4.15.0 # Extended type hints support
annotated-types==0.7.0  # Runtime type annotations

# =========================================================================
# DATA PROCESSING & ANALYTICS ENGINE
# =========================================================================
# Purpose: Core data manipulation, statistical analysis, CSV processing
# Components: Data ingestion, ETL pipeline, statistical calculations
# Critical for: All analytics computations, data processing, metrics

pandas==2.3.2           # Data manipulation and analysis library
numpy==2.3.2            # Fundamental package for scientific computing
duckdb==1.3.2           # High-performance analytical database
scipy==1.16.1           # Scientific computing library
joblib==1.5.2           # Lightweight pipelining for scientific computing

# =========================================================================
# MACHINE LEARNING & AI ANALYTICS
# =========================================================================
# Purpose: AI model inference, natural language processing, ML operations
# Components: TinyLlama integration, memory management, model optimization
# Critical for: AI-powered analytics, NL query processing, confidence scoring

scikit-learn==1.7.1     # Machine learning library for statistical modeling
torch==2.8.0+cpu        # PyTorch for AI model inference (CPU optimized)
torchvision==0.23.0+cpu # Computer vision models and transforms
networkx==3.3           # Graph analysis and network algorithms
sympy==1.13.3           # Symbolic mathematics
mpmath==1.3.0           # Multiple-precision arithmetic
fsspec==2024.6.1        # File system interface abstraction
filelock==3.13.1        # Platform independent file locking

# =========================================================================
# REPORT GENERATION & VISUALIZATION
# =========================================================================
# Purpose: PDF report generation, charts, document templates
# Components: PDF creation, template rendering, business reports
# Critical for: Client reports, executive summaries, audit documentation

reportlab==4.4.3        # PDF generation library for reports
jinja2==3.1.4           # Template engine for report generation
markupsafe==2.1.5       # Safe string handling for templates
pillow==11.0.0          # Image processing for report graphics

# =========================================================================
# WEB UI & DASHBOARD COMPONENTS
# =========================================================================
# Purpose: Interactive web interface, dashboard components, data visualization
# Components: Streamlit components, UI widgets, data displays
# Critical for: User interface, data visualization, interactive analytics

# Note: Streamlit components integrated but not required for API-only deployment
# Streamlit can be installed separately if web UI is needed

# =========================================================================
# HTTP CLIENTS & NETWORK COMMUNICATION
# =========================================================================
# Purpose: External API calls, HTTP requests, async communication
# Components: HTTP client library, async HTTP, network protocols
# Critical for: External integrations, API testing, network operations

requests==2.32.5        # HTTP library for Python
aiohttp==3.12.15        # Async HTTP client/server framework
aiosignal==1.4.0        # Signal handling for asyncio
multidict==6.6.4        # Multi-key dictionary implementation
yarl==1.20.1            # Yet another URL library
frozenlist==1.7.0       # Immutable list implementation
propcache==0.3.2        # Property caching utilities
aiohappyeyeballs==2.6.1 # Happy Eyeballs connection algorithm
asyncio-throttle==1.0.2 # Rate limiting for async operations

# =========================================================================
# CONFIGURATION & ENVIRONMENT MANAGEMENT
# =========================================================================
# Purpose: Configuration loading, environment variables, settings management
# Components: YAML parsing, environment variable loading, configuration validation
# Critical for: Application configuration, deployment settings, security

python-dotenv==1.1.1    # Load environment variables from .env files
pyyaml==6.0.2           # YAML parser for configuration files
click==8.2.1            # Command line interface creation toolkit

# =========================================================================
# SYSTEM MONITORING & PERFORMANCE
# =========================================================================
# Purpose: System resource monitoring, performance tracking, hardware detection
# Components: CPU/memory monitoring, GPU detection, system information
# Critical for: AI memory management, performance optimization, system health

psutil==7.0.0           # Cross-platform system and process utilities
gputil==1.4.0           # GPU monitoring and management

# =========================================================================
# LOGGING & DEBUGGING
# =========================================================================
# Purpose: Application logging, error tracking, debug information
# Components: Structured logging, log rotation, error handling
# Critical for: Production monitoring, debugging, audit trails

loguru==0.7.3           # Modern logging library with advanced features
win32-setctime==1.2.0   # Windows file creation time setting
colorama==0.4.6         # Cross-platform colored terminal text

# =========================================================================
# SECURITY & CRYPTOGRAPHY
# =========================================================================
# Purpose: Encryption, secure communication, authentication
# Components: SSL/TLS, password hashing, secure random generation
# Critical for: Data security, API authentication, secure communications

cryptography==45.0.7    # Cryptographic recipes and primitives
dnspython==2.7.0        # DNS toolkit for Python
cffi==1.17.1            # Foreign Function Interface for calling C code
pycparser==2.22         # C parser written in Python

# =========================================================================
# DATE/TIME HANDLING
# =========================================================================
# Purpose: Date/time manipulation, timezone handling, scheduling
# Components: Date parsing, timezone conversion, time calculations
# Critical for: Data timestamps, scheduling, time-based analytics

python-dateutil==2.9.0.post0 # Extensions to standard datetime module
pytz==2025.2            # World timezone definitions
tzdata==2025.2          # IANA timezone database
six==1.17.0             # Python 2 and 3 compatibility utilities

# =========================================================================
# DEVELOPMENT & CODE QUALITY TOOLS
# =========================================================================
# Purpose: Code formatting, testing, type checking, development utilities
# Components: Test framework, code formatters, linting tools
# Critical for: Code quality, testing, development workflow

pytest==8.4.2           # Testing framework for Python
black==25.1.0           # Code formatter for Python
mypy-extensions==1.1.0  # Extensions for mypy type checker
iniconfig==2.1.0        # Parser for .ini files
pluggy==1.6.0           # Plugin management system
attrs==25.3.0           # Classes without boilerplate
packaging==25.0         # Core utilities for Python packages
platformdirs==4.4.0     # Platform-specific directory paths
pathspec==0.12.1        # Pattern matching for file paths
pygments==2.19.2        # Syntax highlighting library
threadpoolctl==3.6.0    # Thread pool control for scientific libraries

# =========================================================================
# CORE PYTHON DEPENDENCIES
# =========================================================================
# Purpose: Fundamental Python libraries, HTTP handling, encoding
# Components: Certificate management, text encoding, URL handling
# Critical for: Basic Python operations, network security, text processing

certifi==2025.8.3       # Python package for providing Mozilla CA certificates
charset-normalizer==3.4.3 # Character encoding detection library
idna==3.10              # Internationalized Domain Names in Applications
urllib3==2.5.0          # HTTP library with thread-safe connection pooling
